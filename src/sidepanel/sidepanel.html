<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>N.A.S.A</title>
  <link rel="stylesheet" href="sidepanel.css" />
  <style>
    /* icon sizing */
    .icon { width: 18px; height: 18px; vertical-align: middle; }
    .icon-btn,
    .header-buttons button,
    .footer-buttons button,
    .history-header-actions button,
    .test-connection-btn {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 6px 10px; border: none; background: transparent;
      cursor: pointer; font-size: 14px;
    }
    .history-header span .icon,
    .settings-header span .icon,
    .toggle-label .icon,
    label[for="modelSelect"] .icon { margin-right: 6px; }
    /* optional polish */
    .header-buttons button:hover,
    .footer-buttons button:hover,
    .history-header-actions button:hover,
    .test-connection-btn:hover { opacity: 0.9; }
    .dark-mode .header-buttons button,
    .dark-mode .footer-buttons button,
    .dark-mode .history-header-actions button,
    .dark-mode .test-connection-btn { color: #e5e7eb; }
    .dark-mode .header-buttons button:hover,
    .dark-mode .footer-buttons button:hover,
    .dark-mode .history-header-actions button:hover,
    .dark-mode .test-connection-btn:hover { color: #fff; }
    /* hide sprite defs */
    .svg-sprite { position:absolute; width:0; height:0; overflow:hidden; }
  </style>

  <!-- Inline SVG sprite: minimal set of icons you use -->
  <svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg">
    <!-- settings (gear) -->
    <symbol id="i-settings" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 7.04 3.4l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .68.4 1.3 1 1.59.32.16.68.24 1.04.24H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1Z"/>
    </symbol>
    <!-- sparkles -->
    <symbol id="i-sparkles" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M5 3v4M3 5h4"/><path d="M11 21v-4M9 19h4"/><path d="M17 5l2 2-2 2-2-2 2-2Z"/>
    </symbol>
    <!-- history/clock -->
    <symbol id="i-history" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M3 3v5h5"/><path d="M3.05 13A9 9 0 1 0 7 4.6"/><path d="M12 7v5l3 3"/>
    </symbol>
    <!-- arrow-left -->
    <symbol id="i-arrow-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M19 12H5"/><path d="m12 19-7-7 7-7"/>
    </symbol>
    <!-- trash -->
    <symbol id="i-trash-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"/><path d="M10 11v6"/><path d="M14 11v6"/><path d="M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"/>
    </symbol>
    <!-- sliders -->
    <symbol id="i-sliders" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="21" y1="4" x2="14" y2="4"/><line x1="10" y1="4" x2="3" y2="4"/><line x1="21" y1="12" x2="12" y2="12"/><line x1="8" y1="12" x2="3" y2="12"/><line x1="21" y1="20" x2="16" y2="20"/><line x1="12" y1="20" x2="3" y2="20"/><circle cx="12" cy="4" r="2"/><circle cx="8" cy="12" r="2"/><circle cx="16" cy="20" r="2"/>
    </symbol>
    <!-- close (x) -->
    <symbol id="i-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
    </symbol>
    <!-- moon -->
    <symbol id="i-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79Z"/>
    </symbol>
    <!-- brain -->
    <symbol id="i-brain" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M8 6a3 3 0 1 0-3 3"/><path d="M16 6a3 3 0 1 1 3 3"/><path d="M12 3v18"/><path d="M6 12a3 3 0 1 0 3 3"/><path d="M18 12a3 3 0 1 1-3 3"/>
    </symbol>
    <!-- activity -->
    <symbol id="i-activity" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
    </symbol>
    <!-- send -->
    <symbol id="i-send" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
    </symbol>

    <!-- user -->
<symbol id="i-user" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <path d="M20 21a8 8 0 1 0-16 0"/>
  <circle cx="12" cy="7" r="4"/>
</symbol>
<!-- bot -->
<symbol id="i-bot" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <rect x="3" y="8" width="18" height="12" rx="2"/>
  <path d="M12 8V4"/><circle cx="12" cy="4" r="1"/>
  <circle cx="8" cy="14" r="1"/><circle cx="16" cy="14" r="1"/>
</symbol>

  </svg>
</head>

<body class="dark-mode">
  <header>
    <h2>NASA<span id="status-dot"></span></h2>
    <div class="header-buttons">
      <button id="settingsBtn" class="icon-btn" title="Settings">
        <svg class="icon"><use href="#i-settings"></use></svg> Settings
      </button>
    </div>
  </header>

  <main id="main-content">
    <div class="chat-view">
      <div id="messages"></div>

      <div class="footer-buttons">
        <button id="summarizeBtn" class="icon-btn" title="Summarize current tab">
          <svg class="icon"><use href="#i-sparkles"></use></svg> Summarize
        </button>
        <button id="historyBtn" class="icon-btn" title="Chat History">
          <svg class="icon"><use href="#i-history"></use></svg> History
        </button>

        <div id="history-panel" class="history-view" style="display: none;">
          <div class="history-header">
            <span><svg class="icon"><use href="#i-history"></use></svg> History</span>
            <div class="history-header-actions">
              <button id="backToChatBtn" class="icon-btn" title="Back to chat">
                <svg class="icon"><use href="#i-arrow-left"></use></svg>
              </button>
              <button id="clearHistoryBtn" class="icon-btn" title="Clear history">
                <svg class="icon"><use href="#i-trash-2"></use></svg>
              </button>
            </div>
          </div>
          <ul id="historyList"></ul>
        </div>

        <!-- Settings panel (hidden by default) -->
        <div id="settings-panel" class="settings-view" style="display: none;">
          <div class="settings-header">
            <span><svg class="icon"><use href="#i-sliders"></use></svg> Settings</span>
            <button id="closeSettingsBtn" class="icon-btn" title="Close settings">
              <svg class="icon"><use href="#i-x"></use></svg>
            </button>
          </div>

          <!-- Dark Mode Toggle -->
          <div class="toggle-wrapper">
            <span class="toggle-label"><svg class="icon"><use href="#i-moon"></use></svg> Dark Mode</span>
            <label class="toggle-switch">
              <input type="checkbox" id="darkModeToggle" />
              <span class="slider"></span>
            </label>
          </div>

          <!-- Model Select -->
          <div class="select-wrapper">
            <label for="modelSelect"><svg class="icon"><use href="#i-brain"></use></svg> AI Model</label>
            <select id="modelSelect">
              <option value="DeepSeek R1">DeepSeek R1</option>
              <option value="GPT-4">GPT 4 (OpenAI oss)</option>
              <option value="Gemini 2">Gemini 2 (Google gemma)</option>
            </select>
          </div>

        <!-- Test Button -->
        <button id="testConnectionBtn" class="test-connection-btn icon-btn">
            <svg class="icon">
                <use href="#i-activity"></use>
            </svg> Test Connection
        </button>
        </div>
        </div>
        

        
        
        <div id="inputbar">
            <textarea id="messageInput" placeholder="Type your message..." rows="1"></textarea>
            <button id="sendBtn" class="icon-btn">
                <svg class="icon">
                    <use href="#i-send"></use>
                </svg> Send
            </button>
      </div>

              <div id="file-upload-area">
            <!-- Drag & Drop Zone -->
            <div id="drop-zone" class="drop-zone">
                <p>Drag files here or click to select</p>
                <input type="file" id="file-input" multiple accept=".pdf,.docx,.txt,.csv,.json,.md">
            </div>
        
            <!-- File Preview Area -->
            <div id="file-preview-container">
                <!-- Selected files will appear here -->
            </div>
        </div>
    </div>
  </main>

  <script type="module" src="sidepanel.js"></script>
</body>
</html>
